<!DOCTYPE html>
<html>
    <%- include('../partials/head'); %>
    
<body>
    <%- include('../partials/header'); %>
    <main class="product-list">
        <aside class="filter group">
            <form action="" class="filter form">
                <div class="order">
                
                    <label for="ordenar">Ordenar por</label>
                    <select name="ordenar" id="ordenar">
                        <option value="novedad">Novedad</option>
                        <option value="mayor-precio">Mayor precio</option>
                        <option value="menor-precio">Menor precio</option>
                        <option value="mayor-amargor">Mayor amargor</option>
                        <option value="menor-amargor">Menor amargor</option>
                        <option value="mayor-puntaje">Mayor puntaje</option>
                        <option value="menor-puntaje">Menor puntaje</option>
                    </select>
                    
                </div>
                <div class="filter controls">                  

                        <label for="precio">Precio</label>
                        <div class="range price">
                            <input type="number" name="precio-minimo" id="" placeholder="Min">
                            <input type="number" name="precio-maximo" id="" placeholder="Max">
                        </div>
                                            
                        <div class= "range alcohol">
                            <label for="amargor">Alcohol</label><br>
                            <input type="range" name="alcohol" id="alcohol" min="1" max="100">
                        </div>

                        <div class= "range ibu">
                            <label for="amargor">Amargor</label><br>
                            <input type="range" name="amargor" id="amargor" min="1" max="100">
                        </div>

                        <div class="category">
                            <label for="Category">Categor√≠as</label>
                            <ul class= "category-list">
                                <li class= "category-item">
                               
                                    <input type="checkbox" name= "categoria" id="allCategories" value = "all" >
                                    Todas 
                                </li>
                         
                                <% for (let i = 0; i < categorias.length; i++){ %>
                                    <li class= "category-item">
                               
                                    <input type="checkbox" name= "categoria" id="" value = "<%= categorias[i] %>" >
                                    <%= categorias[i].name %>
                                    
                                    </li>
                               
                                <% } %>

                            </ul>
                         
                        
                        </div>

                        <div class="maker">
                            <label for="maker">Fabricantes</label>
                            <ul class= "maker-list">
                                <li class= "maker-item">
                               
                                    <input type="checkbox" name= "fabricante" id="allMakers" value = "all" >
                                    Todos                                    
                                </li>
                         
                                <% for (let i = 0; i < fabricantes.length; i++){ %>
                                    <li class= "maker-item">
                               
                                    <input type="checkbox" name= "fabricante" id="" value = "<%= fabricantes[i] %>" >
                                    <%= fabricantes[i].name %>
                                    
                                    </li>
                               
                                <% } %>

                            </ul>
                         
                        
                        </div>


                        <!-- <button type="submit" class="filter-btn">Aplicar</button> -->

                    
                </div>
            </form>
            
        </aside>
        <div class="title-list">
            <div class="title-products">
                <h2>Productos</h2>
                <span>home - productos</span>
            </div>
            <div id= "list container" class = "list container">
                <% for (let i = 0; i<productos.length; i++){ %>
                    <div class= "list card">
                        <div class="card title">
                            <a href="/products/<%= productos[i].id %>">
                                <h3 id="prod-title"><%=productos[i].name%></h3>
                            </a>
                            <h5>por <a class="prod-maker" id="prod-maker" href="#"><%=productos[i].maker.name%></a></h5>
                        </div>
                        
                        <div class= "card prod-img">
                            <a href="/products/<%= productos[i].id %>"><img id="prod-img" src="/uploads/<%=productos[i].image%>" alt="imagen producto"></a>
                        </div>
                        <div class="card rating">
                            <% for (let s = 1; s <= productos[i].rating; s++){ %>
                            <div class="fullstar"><img src="/img/star_full.svg" alt=""></div><% } %>
                            <% for (let r = 1; r <= (5-(productos[i].rating)); r++){ %> 
                                <div class="emptystar"><img src="/img/star_empty.svg" alt=""></div>
                            <% } %>
                        </div>

                        <div class= "meter alcohol">
                            <div class= "alcohol text">
                                <h4>Alcohol</h4>
                                <h4 id="percentage-alcohol"><%=productos[i].abv%>%</h4>
                            </div>
                            <% var abv = (((productos[i].abv)/14)*100)+"%" %>
                            
                            <div class="bar alcohol"><div id="bar-level-alcohol" style= "width: <%= abv %>"></div></div>
                        </div>
                    

                        <div class= "meter bitternes">
                            <div class="bitternes text">
                                <h4>Amargor</h4>
                                <h4 id="number-bitternes"><%=productos[i].ibu%></h4>
                            </div>
                            <% var ibu = productos[i].ibu+"%" %>
                            <div class="bar bitternes"><div id="bar-level-bitternes" style= "width: <%= ibu %>"></div></div>
                        </div>
                        <div class="meter srm">
                            <h4>Tono</h4>
                                                        
                            <div class = "srm-circle" id = "color-srm" style = "background-color: <%= productos[i].srm_index.code %> "></div>
                        </div>

                    </div>
                <% } %>

                
            </div>

        </div>
        
    </main>
    <%- include('../partials/footer'); %>
    
</body>
</html>